language: cpp

compiler:
- clang
- gcc

before_install:
- sudo apt-get -qq update
- sudo apt-get install -y lcov doxygen

script:
- mkdir build
- cd build
- cmake -DCMAKE_BUILD_TYPE=Debug -DCOMPILE_TESTS=ON -DCOMPILE_WITH_COVERAGE=ON .. && make && make test

after_success:
- make present_coverage && bash <(curl -s https://codecov.io/bash)
- make doc
